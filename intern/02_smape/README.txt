Задача
Два месяца назад ваш коллега во время своей стажировки написал sMAPE, который корректно работал в продакшене всё это время, однако периодически метрика выдаёт ошибку, а вы теряете информацию. К сожалению, логи ошибки нам недоступны.

Вы взялись помочь исправить случаи, когда данный код выдаёт ошибку, и исправить функцию, если она вызывает ошибки, не меняя поведение метрики в остальных ситуациях.

Гарантируется, что y_true и y_pred – одинаковой длины.